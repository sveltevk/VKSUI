import{S as Z,i as w,s as x,N as _e,C as M,e as R,c as q,a as K,d as v,a1 as oe,g as H,aa as Ye,ab as g,O as be,P as ge,Q as ve,z as Te,q as T,o as E,ac as Re,a3 as I,ad as qe,_ as G,a5 as b,I as ke,b as F,a0 as Ve,a2 as Y,M as le,f as ie,ae as $e,J as et,af as fe,w as Ee,x as Me,y as Ae,A as tt,K as nt,B as He,U as st,X as De,r as it,n as he,p as de,F as ot,k as re,l as Ne,m as ce}from"./vendor-835c2034.js";import{c as Ke,T as lt,D as at,a as ut,b as ft}from"./Touch-0517af0a.js";import{u as rt,a as ct,c as ht,g as dt,A as me}from"./File.svelte_svelte_type_style_lang-016c5e82.js";function mt(t){let e,n,l,i;const h=t[4].default,s=_e(h,t,t[3],null);let u=[t[2]],o={};for(let a=0;a<u.length;a+=1)o=M(o,u[a]);return{c(){e=R("button"),s&&s.c(),this.h()},l(a){e=q(a,"BUTTON",{});var c=K(e);s&&s.l(c),c.forEach(v),this.h()},h(){oe(e,o)},m(a,c){H(a,e,c),s&&s.m(e,null),e.autofocus&&e.focus(),t[15](e),n=!0,l||(i=[Ye(t[1].call(null,e)),g(e,"click",t[5]),g(e,"dragstart",t[6]),g(e,"mouseover",t[7]),g(e,"mouseout",t[8]),g(e,"focus",t[9]),g(e,"blur",t[10]),g(e,"mouseleave",t[11]),g(e,"pointerleave",t[12]),g(e,"mouseenter",t[13]),g(e,"pointerenter",t[14])],l=!0)},p(a,[c]){s&&s.p&&(!n||c&8)&&be(s,h,a,a[3],n?ve(h,a[3],c,null):ge(a[3]),null),oe(e,o=Te(u,[c&4&&a[2]]))},i(a){n||(T(s,a),n=!0)},o(a){E(s,a),n=!1},d(a){a&&v(e),s&&s.d(a),t[15](null),l=!1,Re(i)}}}function _t(t,e,n){const l=["this_"];let i=I(e,l),{$$slots:h={},$$scope:s}=e,{this_:u=void 0}=e;const o=Ke(qe());function a(d){b.call(this,t,d)}function c(d){b.call(this,t,d)}function f(d){b.call(this,t,d)}function _(d){b.call(this,t,d)}function p(d){b.call(this,t,d)}function C(d){b.call(this,t,d)}function L(d){b.call(this,t,d)}function B(d){b.call(this,t,d)}function V(d){b.call(this,t,d)}function D(d){b.call(this,t,d)}function P(d){ke[d?"unshift":"push"](()=>{u=d,n(0,u)})}return t.$$set=d=>{e=M(M({},e),G(d)),n(2,i=I(e,l)),"this_"in d&&n(0,u=d.this_),"$$scope"in d&&n(3,s=d.$$scope)},[u,o,i,s,h,a,c,f,_,p,C,L,B,V,D,P]}class bt extends Z{constructor(e){super();w(this,e,_t,mt,x,{this_:0})}}function gt(t){let e,n,l,i;const h=t[5].default,s=_e(h,t,t[4],null);let u=[{href:t[1]},t[3]],o={};for(let a=0;a<u.length;a+=1)o=M(o,u[a]);return{c(){e=R("a"),s&&s.c(),this.h()},l(a){e=q(a,"A",{href:!0});var c=K(e);s&&s.l(c),c.forEach(v),this.h()},h(){oe(e,o)},m(a,c){H(a,e,c),s&&s.m(e,null),t[16](e),n=!0,l||(i=[Ye(t[2].call(null,e)),g(e,"click",t[6]),g(e,"dragstart",t[7]),g(e,"mouseover",t[8]),g(e,"mouseout",t[9]),g(e,"focus",t[10]),g(e,"blur",t[11]),g(e,"mouseleave",t[12]),g(e,"pointerleave",t[13]),g(e,"mouseenter",t[14]),g(e,"pointerenter",t[15])],l=!0)},p(a,[c]){s&&s.p&&(!n||c&16)&&be(s,h,a,a[4],n?ve(h,a[4],c,null):ge(a[4]),null),oe(e,o=Te(u,[(!n||c&2)&&{href:a[1]},c&8&&a[3]]))},i(a){n||(T(s,a),n=!0)},o(a){E(s,a),n=!1},d(a){a&&v(e),s&&s.d(a),t[16](null),l=!1,Re(i)}}}function vt(t,e,n){const l=["href","this_"];let i=I(e,l),{$$slots:h={},$$scope:s}=e,{href:u}=e,{this_:o=void 0}=e;const a=Ke(qe());function c(m){b.call(this,t,m)}function f(m){b.call(this,t,m)}function _(m){b.call(this,t,m)}function p(m){b.call(this,t,m)}function C(m){b.call(this,t,m)}function L(m){b.call(this,t,m)}function B(m){b.call(this,t,m)}function V(m){b.call(this,t,m)}function D(m){b.call(this,t,m)}function P(m){b.call(this,t,m)}function d(m){ke[m?"unshift":"push"](()=>{o=m,n(0,o)})}return t.$$set=m=>{e=M(M({},e),G(m)),n(3,i=I(e,l)),"href"in m&&n(1,u=m.href),"this_"in m&&n(0,o=m.this_),"$$scope"in m&&n(4,s=m.$$scope)},[o,u,a,i,s,h,c,f,_,p,C,L,B,V,D,P,d]}class Tt extends Z{constructor(e){super();w(this,e,vt,gt,x,{href:1,this_:0})}}function kt(t){const e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:t.offsetWidth,height:t.offsetHeight}}function Et(t){let e,n;return{c(){e=R("span"),this.h()},l(l){e=q(l,"SPAN",{"aria-hidden":!0,class:!0}),K(e).forEach(v),this.h()},h(){F(e,"aria-hidden","true"),F(e,"class",n=Ve(t[1].class)+" svelte-mxwvzm"),Y(e,"FocusVisible",!0),Y(e,"FocusVisible--inside",t[0]==="inside"),Y(e,"FocusVisible--outside",t[0]==="outside")},m(l,i){H(l,e,i)},p(l,[i]){i&2&&n!==(n=Ve(l[1].class)+" svelte-mxwvzm")&&F(e,"class",n),i&2&&Y(e,"FocusVisible",!0),i&3&&Y(e,"FocusVisible--inside",l[0]==="inside"),i&3&&Y(e,"FocusVisible--outside",l[0]==="outside")},i:le,o:le,d(l){l&&v(e)}}}function Mt(t,e,n){const l=["mode"];let i=I(e,l),{mode:h}=e;return t.$$set=s=>{e=M(M({},e),G(s)),n(1,i=I(e,l)),"mode"in s&&n(0,h=s.mode)},[h,i]}class At extends Z{constructor(e){super();w(this,e,Mt,Et,x,{mode:0})}}function Ht(t){let e;return{c(){e=R("span"),this.h()},l(n){e=q(n,"SPAN",{class:!0}),K(e).forEach(v),this.h()},h(){F(e,"class","Tappable__wave svelte-sgd839"),ie(e,"top",t[1]+"px",!1),ie(e,"left",t[0]+"px",!1)},m(n,l){H(n,e,l)},p(n,[l]){l&2&&ie(e,"top",n[1]+"px",!1),l&1&&ie(e,"left",n[0]+"px",!1)},i:le,o:le,d(n){n&&v(e)}}}function Pt(t,e,n){let{x:l}=e,{y:i}=e;const h=$e();return setTimeout(()=>h("clear"),225),t.$$set=s=>{"x"in s&&n(0,l=s.x),"y"in s&&n(1,i=s.y)},[l,i]}class yt extends Z{constructor(e){super();w(this,e,Pt,Ht,x,{x:0,y:1})}}function Se(t,e,n){const l=t.slice();return l[49]=e[n],l}function Fe(t){let e,n,l=t[0],i=[];for(let s=0;s<l.length;s+=1)i[s]=Ie(Se(t,l,s));const h=s=>E(i[s],1,1,()=>{i[s]=null});return{c(){e=R("span");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=q(s,"SPAN",{"aria-hidden":!0,class:!0});var u=K(e);for(let o=0;o<i.length;o+=1)i[o].l(u);u.forEach(v),this.h()},h(){F(e,"aria-hidden","true"),F(e,"class","Tappable__waves svelte-jwr959")},m(s,u){H(s,e,u);for(let o=0;o<i.length;o+=1)i[o].m(e,null);n=!0},p(s,u){if(u[0]&1){l=s[0];let o;for(o=0;o<l.length;o+=1){const a=Se(s,l,o);i[o]?(i[o].p(a,u),T(i[o],1)):(i[o]=Ie(a),i[o].c(),T(i[o],1),i[o].m(e,null))}for(he(),o=l.length;o<i.length;o+=1)h(o);de()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)T(i[u]);n=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)E(i[u]);n=!1},d(s){s&&v(e),ot(i,s)}}}function Ie(t){let e,n;function l(){return t[33](t[49])}return e=new yt({props:{x:t[49].x,y:t[49].y}}),e.$on("clear",l),{c(){Ee(e.$$.fragment)},l(i){Me(e.$$.fragment,i)},m(i,h){Ae(e,i,h),n=!0},p(i,h){t=i;const s={};h[0]&1&&(s.x=t[49].x),h[0]&1&&(s.y=t[49].y),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){He(e,i)}}}function Be(t){let e;return{c(){e=R("span"),this.h()},l(n){e=q(n,"SPAN",{"aria-hidden":!0,class:!0}),K(e).forEach(v),this.h()},h(){F(e,"aria-hidden","true"),F(e,"class","Tappable__hoverShadow svelte-jwr959")},m(n,l){H(n,e,l)},d(n){n&&v(e)}}}function Oe(t){let e,n;return e=new At({props:{mode:t[12]}}),{c(){Ee(e.$$.fragment)},l(l){Me(e.$$.fragment,l)},m(l,i){Ae(e,l,i),n=!0},p(l,i){const h={};i[0]&4096&&(h.mode=l[12]),e.$set(h)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){He(e,l)}}}function pt(t){let e,n,l,i,h;const s=t[32].default,u=_e(s,t,t[38],null);let o=t[9]===me&&!t[8].hasMouse&&t[7]&&Fe(t),a=t[6]&&t[4]==="background"&&Be(),c=!t[2]&&Oe(t);return{c(){u&&u.c(),e=re(),o&&o.c(),n=re(),a&&a.c(),l=re(),c&&c.c(),i=Ne()},l(f){u&&u.l(f),e=ce(f),o&&o.l(f),n=ce(f),a&&a.l(f),l=ce(f),c&&c.l(f),i=Ne()},m(f,_){u&&u.m(f,_),H(f,e,_),o&&o.m(f,_),H(f,n,_),a&&a.m(f,_),H(f,l,_),c&&c.m(f,_),H(f,i,_),h=!0},p(f,_){u&&u.p&&(!h||_[1]&128)&&be(u,s,f,f[38],h?ve(s,f[38],_,null):ge(f[38]),null),f[9]===me&&!f[8].hasMouse&&f[7]?o?(o.p(f,_),_[0]&896&&T(o,1)):(o=Fe(f),o.c(),T(o,1),o.m(n.parentNode,n)):o&&(he(),E(o,1,1,()=>{o=null}),de()),f[6]&&f[4]==="background"?a||(a=Be(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),f[2]?c&&(he(),E(c,1,1,()=>{c=null}),de()):c?(c.p(f,_),_[0]&4&&T(c,1)):(c=Oe(f),c.c(),T(c,1),c.m(i.parentNode,i))},i(f){h||(T(u,f),T(o),T(c),h=!0)},o(f){E(u,f),E(o),E(c),h=!1},d(f){u&&u.d(f),f&&v(e),o&&o.d(f),f&&v(n),a&&a.d(f),f&&v(l),c&&c.d(f),f&&v(i)}}}function Ct(t){let e,n,l;const i=[{tabIndex:t[11]&&!t[2]?0:void 0},{role:t[11]?t[10]:void 0},{"aria-disabled":t[11]?t[2]:void 0},{component:t[3]},t[18]];function h(u){t[34](u)}let s={$$slots:{default:[pt]},$$scope:{ctx:t}};for(let u=0;u<i.length;u+=1)s=M(s,i[u]);return t[1]!==void 0&&(s.container=t[1]),e=new lt({props:s}),ke.push(()=>et(e,"container",h)),e.$on("enter",t[35]),e.$on("leave",t[36]),e.$on("start",function(){fe(t[2]?void 0:t[15])&&(t[2]?void 0:t[15]).apply(this,arguments)}),e.$on("move",function(){fe(t[2]?void 0:t[16])&&(t[2]?void 0:t[16]).apply(this,arguments)}),e.$on("end",function(){fe(t[2]?void 0:t[17])&&(t[2]?void 0:t[17]).apply(this,arguments)}),e.$on("click",t[37]),{c(){Ee(e.$$.fragment)},l(u){Me(e.$$.fragment,u)},m(u,o){Ae(e,u,o),l=!0},p(u,o){t=u;const a=o[0]&265228?Te(i,[o[0]&2052&&{tabIndex:t[11]&&!t[2]?0:void 0},o[0]&3072&&{role:t[11]?t[10]:void 0},o[0]&2052&&{"aria-disabled":t[11]?t[2]:void 0},o[0]&8&&{component:t[3]},o[0]&262144&&tt(t[18])]):{};o[0]&5077|o[1]&128&&(a.$$scope={dirty:o,ctx:t}),!n&&o[0]&2&&(n=!0,a.container=t[1],nt(()=>n=!1)),e.$set(a)},i(u){l||(T(e.$$.fragment,u),l=!0)},o(u){E(e.$$.fragment,u),l=!1},d(u){He(e,u)}}}const ze=()=>+Date.now(),Vt=70,Dt=600;let S={};function Xe(t){Object.keys(S).filter(e=>e!==t).forEach(e=>{clearTimeout(S[e].activeTimeout),clearTimeout(S[e].timeout),S[e].stop(),delete S[e]})}const je="vkui_tappableContext";function Nt(t,e,n){let l,i,h,s,u,o,a,c;const f=["activeEffectDelay","disabled","stopPropagation","component","hasHover","hasActive","activeMode","hoverMode","focusVisibleMode","active","ts","deviceHasHover","clicks","container"];let _=I(e,f),p,C,{$$slots:L={},$$scope:B}=e,{activeEffectDelay:V=Dt}=e,{disabled:D=void 0}=e,{stopPropagation:P=!1}=e,{component:d=at}=e,{hasHover:m=!0}=e,{hasActive:U=!0}=e,{activeMode:W="background"}=e,{hoverMode:J="background"}=e,{focusVisibleMode:ae="inside"}=e,{active:A=!1}=e,{ts:O=null}=e,{deviceHasHover:ue=!0}=e;const{onHoverChange:Pe}=st(je)||{onHoverChange:()=>{}},ye=rt();De(t,ye,r=>n(8,p=r));const pe=ct();De(t,pe,r=>n(9,C=r));let{clicks:z=[]}=e,$=!1,ee=!1,{container:Q=void 0}=e;const te=Math.round(Math.random()*1e8).toString(16);let ne=!1;it(je,{onHoverChange:r=>n(28,$=r)});const Le=({detail:r})=>{const{originalEvent:k}=r;if(P&&k.stopPropagation(),k.touches&&k.touches.length>1){Xe();return}if(C===me){const{top:N,left:y}=kt(Q),se=ut(k)-(y!=null?y:0),xe=ft(k)-(N!=null?N:0);n(0,z=[...z,{x:se,y:xe,id:Date.now().toString()}])}S[te]={stop:X,activeTimeout:window.setTimeout(Ce,Vt)}},Ue=({detail:r})=>{const{originalEvent:k,shiftXAbs:N,shiftYAbs:y}=r;P&&k.stopPropagation(),(N>20||y>20)&&(ne=!0,X())},We=({detail:r})=>{const{originalEvent:k}=r;P&&k.stopPropagation();const N=ze();if(k.touches&&k.touches.length>0){ne=!1,X();return}if(A)if(N-O>=100)X();else{const y=window.setTimeout(X,V-N+O),se=j();se&&(se.timeout=y)}else if(!ne){Ce();const y=window.setTimeout(X,V);j()&&(clearTimeout(j().activeTimeout),j().timeout=y)}ne=!1},Ce=()=>{A||(n(19,A=!0),n(20,O=ze())),Xe(te)},X=()=>{A&&(n(19,A=!1),n(20,O=null)),j()&&(clearTimeout(j().activeTimeout),delete S[te])},j=()=>S[te],Je=r=>n(0,z=z.filter(k=>k.id!==r.id));function Qe(r){Q=r,n(1,Q)}const Ge=()=>n(5,ee=!0),Ze=()=>n(5,ee=!1);function we(r){b.call(this,t,r)}return t.$$set=r=>{n(48,e=M(M({},e),G(r))),n(18,_=I(e,f)),"activeEffectDelay"in r&&n(21,V=r.activeEffectDelay),"disabled"in r&&n(2,D=r.disabled),"stopPropagation"in r&&n(22,P=r.stopPropagation),"component"in r&&n(3,d=r.component),"hasHover"in r&&n(23,m=r.hasHover),"hasActive"in r&&n(24,U=r.hasActive),"activeMode"in r&&n(25,W=r.activeMode),"hoverMode"in r&&n(4,J=r.hoverMode),"focusVisibleMode"in r&&n(26,ae=r.focusVisibleMode),"active"in r&&n(19,A=r.active),"ts"in r&&n(20,O=r.ts),"deviceHasHover"in r&&n(27,ue=r.deviceHasHover),"clicks"in r&&n(0,z=r.clicks),"container"in r&&n(1,Q=r.container),"$$scope"in r&&n(38,B=r.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108864&&n(12,l=ae),t.$$.dirty[0]&36&&n(31,i=ee&&!D),t.$$.dirty[0]&268435588&&n(7,h=h&&!$&&!D),t.$$.dirty[0]&411041792&&n(6,s=ue&&m&&!$),t.$$.dirty[0]&8&&n(11,u=d!==Tt&&d!==bt),t.$$.dirty[0]&16&&n(30,o=["opacity","background"].includes(J)),t.$$.dirty[0]&33554432&&n(29,a=["opacity","background"].includes(W)),t.$$.dirty[0]&67108864,t.$$.dirty[1]&1&&Pe(!!i),n(18,_.class=ht(e.class,dt("Tappable",C),s&&i&&!o&&J,U&&A&&!a&&W,`Tappable--sizeX-${p.sizeX}`,{"Tappable--active":U&&A,"Tappable--mouse":p.hasMouse,[`Tappable--hover-${J}`]:s&&i&&o,[`Tappable--active-${W}`]:U&&A&&a}),_),n(10,c=e.href?"link":"button")},e=G(e),[z,Q,D,d,J,ee,s,h,p,C,c,u,l,ye,pe,Le,Ue,We,_,A,O,V,P,m,U,W,ae,ue,$,a,o,i,L,Je,Qe,Ge,Ze,we,B]}class Bt extends Z{constructor(e){super();w(this,e,Nt,Ct,x,{activeEffectDelay:21,disabled:2,stopPropagation:22,component:3,hasHover:23,hasActive:24,activeMode:25,hoverMode:4,focusVisibleMode:26,active:19,ts:20,deviceHasHover:27,clicks:0,container:1},null,[-1,-1])}}export{Tt as A,bt as B,Bt as T,Dt as a};
