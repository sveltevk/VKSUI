import{S as Z,i as w,s as x,O as me,C as M,e as Y,c as L,a as q,d as v,a4 as oe,g as H,a2 as Re,ab as g,P as _e,Q as be,R as ge,z as ve,q as T,o as E,ac as Xe,a5 as B,ae as Ye,a7 as Q,G as b,J as Te,b as F,ah as Ve,a1 as X,N as U,f as ie,af as xe,K as $e,a3 as ue,w as ke,x as Ee,y as Me,A as et,L as tt,B as Ae,Z as nt,M as ye,r as st,n as ce,p as he,F as it,k as fe,l as De,m as re}from"./vendor-049c144f.js";import{c as Le,T as ot,D as lt,a as at,b as ut}from"./Touch-effea633.js";import{u as ft,a as rt,f as ct,h as ht,n as de}from"./File.svelte_svelte_type_style_lang-5c39484a.js";function dt(t){let e,n,l,i;const h=t[5].default,s=me(h,t,t[4],null);let u=[{href:t[1]},t[3]],o={};for(let a=0;a<u.length;a+=1)o=M(o,u[a]);return{c(){e=Y("a"),s&&s.c(),this.h()},l(a){e=L(a,"A",{href:!0});var c=q(e);s&&s.l(c),c.forEach(v),this.h()},h(){oe(e,o)},m(a,c){H(a,e,c),s&&s.m(e,null),t[16](e),n=!0,l||(i=[Re(t[2].call(null,e)),g(e,"click",t[6]),g(e,"dragstart",t[7]),g(e,"mouseover",t[8]),g(e,"mouseout",t[9]),g(e,"focus",t[10]),g(e,"blur",t[11]),g(e,"mouseleave",t[12]),g(e,"pointerleave",t[13]),g(e,"mouseenter",t[14]),g(e,"pointerenter",t[15])],l=!0)},p(a,[c]){s&&s.p&&(!n||c&16)&&_e(s,h,a,a[4],n?ge(h,a[4],c,null):be(a[4]),null),oe(e,o=ve(u,[(!n||c&2)&&{href:a[1]},c&8&&a[3]]))},i(a){n||(T(s,a),n=!0)},o(a){E(s,a),n=!1},d(a){a&&v(e),s&&s.d(a),t[16](null),l=!1,Xe(i)}}}function mt(t,e,n){const l=["href","this_"];let i=B(e,l),{$$slots:h={},$$scope:s}=e,{href:u}=e,{this_:o=void 0}=e;const a=Le(Ye());function c(d){b.call(this,t,d)}function f(d){b.call(this,t,d)}function _(d){b.call(this,t,d)}function C(d){b.call(this,t,d)}function V(d){b.call(this,t,d)}function K(d){b.call(this,t,d)}function I(d){b.call(this,t,d)}function y(d){b.call(this,t,d)}function P(d){b.call(this,t,d)}function D(d){b.call(this,t,d)}function m(d){Te[d?"unshift":"push"](()=>{o=d,n(0,o)})}return t.$$set=d=>{e=M(M({},e),Q(d)),n(3,i=B(e,l)),"href"in d&&n(1,u=d.href),"this_"in d&&n(0,o=d.this_),"$$scope"in d&&n(4,s=d.$$scope)},[o,u,a,i,s,h,c,f,_,C,V,K,I,y,P,D,m]}class _t extends Z{constructor(e){super();w(this,e,mt,dt,x,{href:1,this_:0})}}function bt(t){let e,n,l,i;const h=t[4].default,s=me(h,t,t[3],null);let u=[t[2]],o={};for(let a=0;a<u.length;a+=1)o=M(o,u[a]);return{c(){e=Y("button"),s&&s.c(),this.h()},l(a){e=L(a,"BUTTON",{});var c=q(e);s&&s.l(c),c.forEach(v),this.h()},h(){oe(e,o)},m(a,c){H(a,e,c),s&&s.m(e,null),e.autofocus&&e.focus(),t[15](e),n=!0,l||(i=[Re(t[1].call(null,e)),g(e,"click",t[5]),g(e,"dragstart",t[6]),g(e,"mouseover",t[7]),g(e,"mouseout",t[8]),g(e,"focus",t[9]),g(e,"blur",t[10]),g(e,"mouseleave",t[11]),g(e,"pointerleave",t[12]),g(e,"mouseenter",t[13]),g(e,"pointerenter",t[14])],l=!0)},p(a,[c]){s&&s.p&&(!n||c&8)&&_e(s,h,a,a[3],n?ge(h,a[3],c,null):be(a[3]),null),oe(e,o=ve(u,[c&4&&a[2]]))},i(a){n||(T(s,a),n=!0)},o(a){E(s,a),n=!1},d(a){a&&v(e),s&&s.d(a),t[15](null),l=!1,Xe(i)}}}function gt(t,e,n){const l=["this_"];let i=B(e,l),{$$slots:h={},$$scope:s}=e,{this_:u=void 0}=e;const o=Le(Ye());function a(m){b.call(this,t,m)}function c(m){b.call(this,t,m)}function f(m){b.call(this,t,m)}function _(m){b.call(this,t,m)}function C(m){b.call(this,t,m)}function V(m){b.call(this,t,m)}function K(m){b.call(this,t,m)}function I(m){b.call(this,t,m)}function y(m){b.call(this,t,m)}function P(m){b.call(this,t,m)}function D(m){Te[m?"unshift":"push"](()=>{u=m,n(0,u)})}return t.$$set=m=>{e=M(M({},e),Q(m)),n(2,i=B(e,l)),"this_"in m&&n(0,u=m.this_),"$$scope"in m&&n(3,s=m.$$scope)},[u,o,i,s,h,a,c,f,_,C,V,K,I,y,P,D]}class vt extends Z{constructor(e){super();w(this,e,gt,bt,x,{this_:0})}}function Tt(t){const e=t.getBoundingClientRect();return{top:e.top,left:e.left,width:t.offsetWidth,height:t.offsetHeight}}function kt(t){let e,n;return{c(){e=Y("span"),this.h()},l(l){e=L(l,"SPAN",{"aria-hidden":!0,class:!0}),q(e).forEach(v),this.h()},h(){F(e,"aria-hidden","true"),F(e,"class",n=Ve(t[1].class)+" svelte-mxwvzm"),X(e,"FocusVisible",!0),X(e,"FocusVisible--inside",t[0]==="inside"),X(e,"FocusVisible--outside",t[0]==="outside")},m(l,i){H(l,e,i)},p(l,[i]){i&2&&n!==(n=Ve(l[1].class)+" svelte-mxwvzm")&&F(e,"class",n),i&2&&X(e,"FocusVisible",!0),i&3&&X(e,"FocusVisible--inside",l[0]==="inside"),i&3&&X(e,"FocusVisible--outside",l[0]==="outside")},i:U,o:U,d(l){l&&v(e)}}}function Et(t,e,n){const l=["mode"];let i=B(e,l),{mode:h}=e;return t.$$set=s=>{e=M(M({},e),Q(s)),n(1,i=B(e,l)),"mode"in s&&n(0,h=s.mode)},[h,i]}class Mt extends Z{constructor(e){super();w(this,e,Et,kt,x,{mode:0})}}function At(t){let e;return{c(){e=Y("span"),this.h()},l(n){e=L(n,"SPAN",{class:!0}),q(e).forEach(v),this.h()},h(){F(e,"class","Tappable__wave svelte-sgd839"),ie(e,"top",t[1]+"px",!1),ie(e,"left",t[0]+"px",!1)},m(n,l){H(n,e,l)},p(n,[l]){l&2&&ie(e,"top",n[1]+"px",!1),l&1&&ie(e,"left",n[0]+"px",!1)},i:U,o:U,d(n){n&&v(e)}}}function Ht(t,e,n){let{x:l}=e,{y:i}=e;const h=xe();return setTimeout(()=>h("clear"),225),t.$$set=s=>{"x"in s&&n(0,l=s.x),"y"in s&&n(1,i=s.y)},[l,i]}class Pt extends Z{constructor(e){super();w(this,e,Ht,At,x,{x:0,y:1})}}function Ne(t,e,n){const l=t.slice();return l[45]=e[n],l}function Se(t){let e,n,l=t[0],i=[];for(let s=0;s<l.length;s+=1)i[s]=Fe(Ne(t,l,s));const h=s=>E(i[s],1,1,()=>{i[s]=null});return{c(){e=Y("span");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=L(s,"SPAN",{"aria-hidden":!0,class:!0});var u=q(e);for(let o=0;o<i.length;o+=1)i[o].l(u);u.forEach(v),this.h()},h(){F(e,"aria-hidden","true"),F(e,"class","Tappable__waves svelte-jwr959")},m(s,u){H(s,e,u);for(let o=0;o<i.length;o+=1)i[o].m(e,null);n=!0},p(s,u){if(u[0]&1){l=s[0];let o;for(o=0;o<l.length;o+=1){const a=Ne(s,l,o);i[o]?(i[o].p(a,u),T(i[o],1)):(i[o]=Fe(a),i[o].c(),T(i[o],1),i[o].m(e,null))}for(ce(),o=l.length;o<i.length;o+=1)h(o);he()}},i(s){if(!n){for(let u=0;u<l.length;u+=1)T(i[u]);n=!0}},o(s){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)E(i[u]);n=!1},d(s){s&&v(e),it(i,s)}}}function Fe(t){let e,n;function l(){return t[33](t[45])}return e=new Pt({props:{x:t[45].x,y:t[45].y}}),e.$on("clear",l),{c(){ke(e.$$.fragment)},l(i){Ee(e.$$.fragment,i)},m(i,h){Me(e,i,h),n=!0},p(i,h){t=i;const s={};h[0]&1&&(s.x=t[45].x),h[0]&1&&(s.y=t[45].y),e.$set(s)},i(i){n||(T(e.$$.fragment,i),n=!0)},o(i){E(e.$$.fragment,i),n=!1},d(i){Ae(e,i)}}}function Be(t){let e;return{c(){e=Y("span"),this.h()},l(n){e=L(n,"SPAN",{"aria-hidden":!0,class:!0}),q(e).forEach(v),this.h()},h(){F(e,"aria-hidden","true"),F(e,"class","Tappable__hoverShadow svelte-jwr959")},m(n,l){H(n,e,l)},d(n){n&&v(e)}}}function Ie(t){let e,n;return e=new Mt({props:{mode:t[11]}}),{c(){ke(e.$$.fragment)},l(l){Ee(e.$$.fragment,l)},m(l,i){Me(e,l,i),n=!0},p(l,i){const h={};i[0]&2048&&(h.mode=l[11]),e.$set(h)},i(l){n||(T(e.$$.fragment,l),n=!0)},o(l){E(e.$$.fragment,l),n=!1},d(l){Ae(e,l)}}}function pt(t){let e,n,l,i,h;const s=t[32].default,u=me(s,t,t[38],null);let o=t[8]===de&&!t[7].hasMouse&&t[6]&&Se(t),a=t[5]&&t[3]==="background"&&Be(),c=!t[17].disabled&&Ie(t);return{c(){u&&u.c(),e=fe(),o&&o.c(),n=fe(),a&&a.c(),l=fe(),c&&c.c(),i=De()},l(f){u&&u.l(f),e=re(f),o&&o.l(f),n=re(f),a&&a.l(f),l=re(f),c&&c.l(f),i=De()},m(f,_){u&&u.m(f,_),H(f,e,_),o&&o.m(f,_),H(f,n,_),a&&a.m(f,_),H(f,l,_),c&&c.m(f,_),H(f,i,_),h=!0},p(f,_){u&&u.p&&(!h||_[1]&128)&&_e(u,s,f,f[38],h?ge(s,f[38],_,null):be(f[38]),null),f[8]===de&&!f[7].hasMouse&&f[6]?o?(o.p(f,_),_[0]&448&&T(o,1)):(o=Se(f),o.c(),T(o,1),o.m(n.parentNode,n)):o&&(ce(),E(o,1,1,()=>{o=null}),he()),f[5]&&f[3]==="background"?a||(a=Be(),a.c(),a.m(l.parentNode,l)):a&&(a.d(1),a=null),f[17].disabled?c&&(ce(),E(c,1,1,()=>{c=null}),he()):c?(c.p(f,_),_[0]&131072&&T(c,1)):(c=Ie(f),c.c(),T(c,1),c.m(i.parentNode,i))},i(f){h||(T(u,f),T(o),T(c),h=!0)},o(f){E(u,f),E(o),E(c),h=!1},d(f){u&&u.d(f),f&&v(e),o&&o.d(f),f&&v(n),a&&a.d(f),f&&v(l),c&&c.d(f),f&&v(i)}}}function Ct(t){let e,n,l;const i=[{tabIndex:t[10]&&!t[17].disabled?0:void 0},{role:t[10]?t[9]:void 0},{"aria-disabled":t[10]?t[17].disabled:void 0},{component:t[2]},t[18]];function h(u){t[34](u)}let s={$$slots:{default:[pt]},$$scope:{ctx:t}};for(let u=0;u<i.length;u+=1)s=M(s,i[u]);return t[1]!==void 0&&(s.container=t[1]),e=new ot({props:s}),Te.push(()=>$e(e,"container",h)),e.$on("enter",t[35]),e.$on("leave",t[36]),e.$on("start",function(){ue(t[17].disabled?void 0:t[14])&&(t[17].disabled?void 0:t[14]).apply(this,arguments)}),e.$on("move",function(){ue(t[17].disabled?void 0:t[15])&&(t[17].disabled?void 0:t[15]).apply(this,arguments)}),e.$on("end",function(){ue(t[17].disabled?void 0:t[16])&&(t[17].disabled?void 0:t[16]).apply(this,arguments)}),e.$on("click",t[37]),{c(){ke(e.$$.fragment)},l(u){Ee(e.$$.fragment,u)},m(u,o){Me(e,u,o),l=!0},p(u,o){t=u;const a=o[0]&394756?ve(i,[o[0]&132096&&{tabIndex:t[10]&&!t[17].disabled?0:void 0},o[0]&1536&&{role:t[10]?t[9]:void 0},o[0]&132096&&{"aria-disabled":t[10]?t[17].disabled:void 0},o[0]&4&&{component:t[2]},o[0]&262144&&et(t[18])]):{};o[0]&133609|o[1]&128&&(a.$$scope={dirty:o,ctx:t}),!n&&o[0]&2&&(n=!0,a.container=t[1],tt(()=>n=!1)),e.$set(a)},i(u){l||(T(e.$$.fragment,u),l=!0)},o(u){E(e.$$.fragment,u),l=!1},d(u){Ae(e,u)}}}const Oe=()=>+Date.now(),Vt=70,yt=600;let S={};function ze(t){Object.keys(S).filter(e=>e!==t).forEach(e=>{clearTimeout(S[e].activeTimeout),clearTimeout(S[e].timeout),S[e].stop(),delete S[e]})}const je="vkui_tappableContext";function Dt(t,e,n){let l,i,h,s,u,o,a,c;const f=["activeEffectDelay","stopPropagation","component","hasHover","hasActive","activeMode","hoverMode","focusVisibleMode","active","ts","deviceHasHover","clicks","container"];let _=B(e,f),C,V,{$$slots:K={},$$scope:I}=e,{activeEffectDelay:y=yt}=e,{stopPropagation:P=!1}=e,{component:D=lt}=e,{hasHover:m=!0}=e,{hasActive:d=!0}=e,{activeMode:W="background"}=e,{hoverMode:G="background"}=e,{focusVisibleMode:le="inside"}=e,{active:A=!1}=e,{ts:O=null}=e,{deviceHasHover:ae=!0}=e;const{onHoverChange:He}=nt(je)||{onHoverChange:U},Pe=ft();ye(t,Pe,r=>n(7,C=r));const pe=rt();ye(t,pe,r=>n(8,V=r));let{clicks:z=[]}=e,$=!1,ee=!1,{container:J=void 0}=e;const te=Math.round(Math.random()*1e8).toString(16);let ne=!1;st(je,{onHoverChange:r=>n(28,$=r)});const qe=({detail:r})=>{const{originalEvent:k}=r;if(P&&k.stopPropagation(),k.touches&&k.touches.length>1){ze();return}if(V===de){const{top:N,left:p}=Tt(J),se=at(k)-(p!=null?p:0),we=ut(k)-(N!=null?N:0);n(0,z=[...z,{x:se,y:we,id:Date.now().toString()}])}S[te]={stop:j,activeTimeout:window.setTimeout(Ce,Vt)}},Ke=({detail:r})=>{const{originalEvent:k,shiftXAbs:N,shiftYAbs:p}=r;P&&k.stopPropagation(),(N>20||p>20)&&(ne=!0,j())},We=({detail:r})=>{const{originalEvent:k}=r;P&&k.stopPropagation();const N=Oe();if(k.touches&&k.touches.length>0){ne=!1,j();return}if(A)if(N-O>=100)j();else{const p=window.setTimeout(j,y-N+O),se=R();se&&(se.timeout=p)}else if(!ne){Ce();const p=window.setTimeout(j,y);R()&&(clearTimeout(R().activeTimeout),R().timeout=p)}ne=!1},Ce=()=>{A||(n(19,A=!0),n(20,O=Oe())),ze(te)},j=()=>{A&&(n(19,A=!1),n(20,O=null)),R()&&(clearTimeout(R().activeTimeout),delete S[te])},R=()=>S[te],Ge=r=>n(0,z=z.filter(k=>k.id!==r.id));function Je(r){J=r,n(1,J)}const Qe=()=>n(4,ee=!0),Ue=()=>n(4,ee=!1);function Ze(r){b.call(this,t,r)}return t.$$set=r=>{n(17,e=M(M({},e),Q(r))),n(18,_=B(e,f)),"activeEffectDelay"in r&&n(21,y=r.activeEffectDelay),"stopPropagation"in r&&n(22,P=r.stopPropagation),"component"in r&&n(2,D=r.component),"hasHover"in r&&n(23,m=r.hasHover),"hasActive"in r&&n(24,d=r.hasActive),"activeMode"in r&&n(25,W=r.activeMode),"hoverMode"in r&&n(3,G=r.hoverMode),"focusVisibleMode"in r&&n(26,le=r.focusVisibleMode),"active"in r&&n(19,A=r.active),"ts"in r&&n(20,O=r.ts),"deviceHasHover"in r&&n(27,ae=r.deviceHasHover),"clicks"in r&&n(0,z=r.clicks),"container"in r&&n(1,J=r.container),"$$scope"in r&&n(38,I=r.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&67108864&&n(11,l=le),n(31,i=ee&&!e.disabled),n(6,h=h&&!$&&!e.disabled),t.$$.dirty[0]&411041792&&n(5,s=ae&&m&&!$),t.$$.dirty[0]&4&&n(10,u=D!==_t&&D!==vt),t.$$.dirty[0]&8&&n(30,o=["opacity","background"].includes(G)),t.$$.dirty[0]&33554432&&n(29,a=["opacity","background"].includes(W)),t.$$.dirty[1]&1&&He(!!i),n(18,_.class=ct(e.class,ht("Tappable",V),s&&i&&!o&&G,d&&A&&!a&&W,`Tappable--sizeX-${C.sizeX}`,{"Tappable--active":d&&A,"Tappable--mouse":C.hasMouse,[`Tappable--hover-${G}`]:s&&i&&o,[`Tappable--active-${W}`]:d&&A&&a}),_),n(9,c=e.href?"link":"button")},e=Q(e),[z,J,D,G,ee,s,h,C,V,c,u,l,Pe,pe,qe,Ke,We,e,_,A,O,y,P,m,d,W,le,ae,$,a,o,i,K,Ge,Je,Qe,Ue,Ze,I]}class Bt extends Z{constructor(e){super();w(this,e,Dt,Ct,x,{activeEffectDelay:21,stopPropagation:22,component:2,hasHover:23,hasActive:24,activeMode:25,hoverMode:3,focusVisibleMode:26,active:19,ts:20,deviceHasHover:27,clicks:0,container:1},null,[-1,-1])}}export{_t as A,vt as B,Bt as T,yt as a};
