import{S as ve,i as Te,s as ke,Z as K,_ as Z,w as Q,l as O,x as ye,y as U,g as T,z as Ee,A as He,$ as De,n as Ae,o as Y,B as x,p as Pe,q as z,d as h,H as $,I as ee,C as B,J as te,G as we,K as Ce,e as L,c as R,a as q,b as v,W as Ne,k as se,m as oe,M as Se,N as Oe,O as Me}from"./vendor-107f5108.js";import{T as Ie,D as je,c as Xe,a as Ye}from"./Touch-da745c48.js";import{a as ze,u as Be,c as Le,g as Re,A as M}from"./File.svelte_svelte_type_style_lang-ec30d4c1.js";function qe(o){const e=o.getBoundingClientRect();return{top:e.top,left:e.left,width:o.offsetWidth,height:o.offsetHeight}}function ne(o,e,s){const a=o.slice();return a[37]=e[s],a}function ae(o){let e,s=Object.keys(o[0]),a=[];for(let n=0;n<s.length;n+=1)a[n]=ie(ne(o,s,n));return{c(){e=L("span");for(let n=0;n<a.length;n+=1)a[n].c();this.h()},l(n){e=R(n,"SPAN",{class:!0});var r=q(e);for(let l=0;l<a.length;l+=1)a[l].l(r);r.forEach(h),this.h()},h(){v(e,"class","Tappable__waves")},m(n,r){T(n,e,r);for(let l=0;l<a.length;l+=1)a[l].m(e,null)},p(n,r){if(r[0]&1){s=Object.keys(n[0]);let l;for(l=0;l<s.length;l+=1){const c=ne(n,s,l);a[l]?a[l].p(c,r):(a[l]=ie(c),a[l].c(),a[l].m(e,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=s.length}},d(n){n&&h(e),Ne(a,n)}}}function ie(o){let e,s,a;return{c(){e=L("span"),this.h()},l(n){e=R(n,"SPAN",{class:!0,style:!0,id:!0}),q(e).forEach(h),this.h()},h(){v(e,"class","Tappable__wave"),v(e,"style",s=`top: ${o[0][o[37]].y}px; left: ${o[0][o[37]].x}px`),v(e,"id",a=o[37])},m(n,r){T(n,e,r)},p(n,r){r[0]&1&&s!==(s=`top: ${n[0][n[37]].y}px; left: ${n[0][n[37]].x}px`)&&v(e,"style",s),r[0]&1&&a!==(a=n[37])&&v(e,"id",a)},d(n){n&&h(e)}}}function le(o){let e;return{c(){e=L("span"),this.h()},l(s){e=R(s,"SPAN",{class:!0}),q(e).forEach(h),this.h()},h(){v(e,"class","Tappable__hoverShadow")},m(s,a){T(s,e,a)},d(s){s&&h(e)}}}function Fe(o){let e,s,a,n;const r=o[23].default,l=Ce(r,o,o[26],null);let c=o[5]===M&&ae(o),u=o[4]&&le();return{c(){l&&l.c(),e=se(),c&&c.c(),s=se(),u&&u.c(),a=O()},l(t){l&&l.l(t),e=oe(t),c&&c.l(t),s=oe(t),u&&u.l(t),a=O()},m(t,f){l&&l.m(t,f),T(t,e,f),c&&c.m(t,f),T(t,s,f),u&&u.m(t,f),T(t,a,f),n=!0},p(t,f){l&&l.p&&(!n||f[0]&67108864)&&Se(l,r,t,t[26],n?Me(r,t[26],f,null):Oe(t[26]),null),t[5]===M?c?c.p(t,f):(c=ae(t),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null),t[4]?u||(u=le(),u.c(),u.m(a.parentNode,a)):u&&(u.d(1),u=null)},i(t){n||(z(l,t),n=!0)},o(t){Y(l,t),n=!1},d(t){l&&l.d(t),t&&h(e),c&&c.d(t),t&&h(s),u&&u.d(t),t&&h(a)}}}function Ve(o){let e,s,a,n;const r=[{component:o[2]},{disabled:o[1]},o[14]];function l(t){o[24](t)}var c=o[6];function u(t){let f={$$slots:{default:[Fe]},$$scope:{ctx:t}};for(let _=0;_<r.length;_+=1)f=B(f,r[_]);return t[3]!==void 0&&(f.container=t[3]),{props:f}}return c&&(e=new c(u(o)),K.push(()=>Z(e,"container",l)),e.$on("start",o[9]),e.$on("move",o[10]),e.$on("end",o[11]),e.$on("enter",o[12]),e.$on("leave",o[13]),e.$on("click",o[25])),{c(){e&&Q(e.$$.fragment),a=O()},l(t){e&&ye(e.$$.fragment,t),a=O()},m(t,f){e&&U(e,t,f),T(t,a,f),n=!0},p(t,f){const _=f[0]&16390?Ee(r,[f[0]&4&&{component:t[2]},f[0]&2&&{disabled:t[1]},f[0]&16384&&He(t[14])]):{};if(f[0]&67108913&&(_.$$scope={dirty:f,ctx:t}),!s&&f[0]&8&&(s=!0,_.container=t[3],De(()=>s=!1)),c!==(c=t[6])){if(e){Ae();const b=e;Y(b.$$.fragment,1,0,()=>{x(b,1)}),Pe()}c?(e=new c(u(t)),K.push(()=>Z(e,"container",l)),e.$on("start",t[9]),e.$on("move",t[10]),e.$on("end",t[11]),e.$on("enter",t[12]),e.$on("leave",t[13]),e.$on("click",t[25]),Q(e.$$.fragment),z(e.$$.fragment,1),U(e,a.parentNode,a)):e=null}else c&&e.$set(_)},i(t){n||(e&&z(e.$$.fragment,t),n=!0)},o(t){e&&Y(e.$$.fragment,t),n=!1},d(t){t&&h(a),e&&x(e,t)}}}const ce=()=>+Date.now(),We=70,Ge=600;let p={};function fe(o){Object.keys(p).filter(e=>e!==o).forEach(e=>{clearTimeout(p[e].activeTimeout),clearTimeout(p[e].timeout),p[e].stop(),delete p[e]})}function Je(o,e,s){let a,n,r;const l=["activeEffectDelay","disabled","stopPropagation","component","clicks","hovered","active","ts","deviceHasHover"];let c=$(e,l),u,t,{$$slots:f={},$$scope:_}=e,{activeEffectDelay:b=Ge}=e,{disabled:I=void 0}=e,{stopPropagation:A=!1}=e,{component:j=je}=e,{clicks:k={}}=e,{hovered:P=!1}=e,{active:d=!1}=e,{ts:y=null}=e,{deviceHasHover:X=!1}=e,w;const C=Math.round(Math.random()*1e8).toString(16);let N=!1;const F=ze();ee(o,F,i=>s(22,u=i));const V=Be();ee(o,V,i=>s(5,t=i));const re=({detail:i})=>{const{originalEvent:m}=i;if(A&&m.stopPropagation(),m.touches&&m.touches.length>1){fe();return}t===M&&_e(m),p[C]={stop:E,activeTimeout:window.setTimeout(W,We)}},ue=({detail:i})=>{const{originalEvent:m,shiftXAbs:D,shiftYAbs:g}=i;A&&m.stopPropagation(),(D>20||g>20)&&(N=!0,E())},me=({detail:i})=>{const{originalEvent:m}=i;A&&m.stopPropagation();const D=ce();if(m.touches&&m.touches.length>0){N=!1,E();return}if(d)if(D-y>=100)E();else{const g=window.setTimeout(E,b-D+y),S=H();S&&(S.timeout=g)}else if(!N){W();const g=window.setTimeout(E,b);H()&&(clearTimeout(H().activeTimeout),H().timeout=g)}N=!1},_e=i=>{if(t===M){const{top:m,left:D}=qe(w),g=Xe(i)-D,S=Ye(i)-m,G="wave"+Date.now().toString();s(0,k[G]={x:g,y:S},k),window.setTimeout(()=>{const J=k;delete J[G],s(0,k=J)},225)}},he=()=>{s(15,P=!0)},de=()=>{s(15,P=!1)},W=()=>{d||(s(16,d=!0),s(17,y=ce())),fe(C)},E=()=>{d&&(s(16,d=!1),s(17,y=null)),H()&&(clearTimeout(H().activeTimeout),delete p[C])},H=()=>p[C],pe=i=>!i||!i.style.backgroundColor||i.style.backgroundColor==="transparent";function be(i){w=i,s(3,w)}function ge(i){we.call(this,o,i)}return o.$$set=i=>{s(36,e=B(B({},e),te(i))),s(14,c=$(e,l)),"activeEffectDelay"in i&&s(18,b=i.activeEffectDelay),"disabled"in i&&s(1,I=i.disabled),"stopPropagation"in i&&s(19,A=i.stopPropagation),"component"in i&&s(2,j=i.component),"clicks"in i&&s(0,k=i.clicks),"hovered"in i&&s(15,P=i.hovered),"active"in i&&s(16,d=i.active),"ts"in i&&s(17,y=i.ts),"deviceHasHover"in i&&s(20,X=i.deviceHasHover),"$$scope"in i&&s(26,_=i.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&1048592&&s(4,a=X&&a),o.$$.dirty[0]&8&&s(21,n=pe(w)?"shadowHovered":"opacityHovered"),o.$$.dirty[0]&6&&s(6,r=I?j:Ie),s(14,c.class=Le(Re("Tappable",t),e.class,`Tappable--sizeX-${u.sizeX}`,{"Tappable--active":d,"Tappable--mouse":u.hasMouse,"Tappable--inactive":!d,[`Tappable--${n}`]:a&&P}),c)},e=te(e),[k,I,j,w,a,t,r,F,V,re,ue,me,he,de,c,P,d,y,b,A,X,n,u,f,be,ge,_]}class Ue extends ve{constructor(e){super();Te(this,e,Je,Ve,ke,{activeEffectDelay:18,disabled:1,stopPropagation:19,component:2,clicks:0,hovered:15,active:16,ts:17,deviceHasHover:20},null,[-1,-1])}}export{Ue as T};
